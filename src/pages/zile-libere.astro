---
import Layout from '../layouts/Layout.astro';
import WhatsAppButton from '../components/WhatsAppButton.astro';

const title = "Zile Libere 2026 - Calendar & Calculator Concediu | Manualul.ro";
const description = "Vezi cum poÈ›i obÈ›ine 45 de zile de vacanÈ›Äƒ folosind doar 15 zile de concediu. Calendar complet zile libere legale 2026 È™i calculator de punÈ›i.";

const hacks = [
    {
        id: 'easter',
        title: 'PaÈ™tele Ortodox',
        month: 'Aprilie',
        context: '10 Apr (Vinerea Mare), 12-13 Apr (PaÈ™te)',
        strategy: 'Ia liber 14, 15, 16, 17 Aprilie',
        daysOff: 4,
        totalDays: 10,
        period: '10 - 19 Aprilie',
        gradient: 'from-emerald-500 to-teal-600',
        calendar: [
            { day: '10', type: 'legal', label: 'V' },
            { day: '11', type: 'weekend', label: 'S' },
            { day: '12', type: 'weekend', label: 'D' },
            { day: '13', type: 'legal', label: 'L' },
            { day: '14', type: 'vacation', label: 'M' },
            { day: '15', type: 'vacation', label: 'M' },
            { day: '16', type: 'vacation', label: 'J' },
            { day: '17', type: 'vacation', label: 'V' },
            { day: '18', type: 'weekend', label: 'S' },
            { day: '19', type: 'weekend', label: 'D' },
        ]
    },
    {
        id: 'may_june',
        title: '1 Mai + Rusalii',
        month: 'Mai - Iunie',
        context: '1 Mai (Vineri), 1 Iunie (Luni)',
        strategy: 'LeagÄƒ weekendurile',
        daysOff: 0,
        totalDays: 6,
        period: 'DouÄƒ minivacanÈ›e de 3 zile',
        gradient: 'from-blue-500 to-indigo-600',
        calendar: [
            { day: '1', type: 'legal', label: 'V' },
            { day: '2', type: 'weekend', label: 'S' },
            { day: '3', type: 'weekend', label: 'D' },
            { day: '...', type: 'spacer', label: '' },
            { day: '30', type: 'weekend', label: 'S' },
            { day: '31', type: 'weekend', label: 'D' },
            { day: '1', type: 'legal', label: 'L' },
        ]
    },
    {
        id: 'national',
        title: '"Super-Puntea" Sf. Andrei',
        month: 'Noiembrie - Decembrie',
        context: '30 Nov (Luni), 1 Dec (MarÈ›i)',
        strategy: 'Ia liber 2, 3, 4 Decembrie',
        daysOff: 3,
        totalDays: 9,
        period: '28 Noiembrie - 6 Decembrie',
        gradient: 'from-indigo-600 to-purple-700',
        calendar: [
            { day: '28', type: 'weekend', label: 'S' },
            { day: '29', type: 'weekend', label: 'D' },
            { day: '30', type: 'legal', label: 'L' },
            { day: '1', type: 'legal', label: 'M' },
            { day: '2', type: 'vacation', label: 'M' },
            { day: '3', type: 'vacation', label: 'J' },
            { day: '4', type: 'vacation', label: 'V' },
            { day: '5', type: 'weekend', label: 'S' },
            { day: '6', type: 'weekend', label: 'D' },
        ]
    },
    {
        id: 'christmas',
        title: 'CrÄƒciun & Revelion',
        month: 'Decembrie',
        context: '25 Dec (Vineri)',
        strategy: 'Ia liber 21-24 Decembrie',
        daysOff: 4,
        totalDays: 9,
        period: '19 - 27 Decembrie',
        gradient: 'from-red-600 to-orange-700',
        calendar: [
            { day: '19', type: 'weekend', label: 'S' },
            { day: '20', type: 'weekend', label: 'D' },
            { day: '21', type: 'vacation', label: 'L' },
            { day: '22', type: 'vacation', label: 'M' },
            { day: '23', type: 'vacation', label: 'M' },
            { day: '24', type: 'vacation', label: 'J' },
            { day: '25', type: 'legal', label: 'V' },
            { day: '26', type: 'weekend', label: 'S' },
            { day: '27', type: 'weekend', label: 'D' },
        ]
    }
];
---

<Layout title={title} description={description}>
    <main class="max-w-4xl mx-auto px-4 pb-20">
        <header class="py-12 text-center">
            <div class="inline-block px-4 py-1 rounded-full bg-indigo-100 text-indigo-700 font-bold text-sm mb-4">
                ðŸš€ Viral Strategy 2026
            </div>
            <h1 class="text-4xl md:text-6xl font-black text-gray-900 mb-4 tracking-tight">
                Maximizatorul de <span class="text-indigo-600">Concediu</span> 2026
            </h1>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto font-medium">
                Strategia inteligentÄƒ: Cum sÄƒ transformi zilele libere legale Ã®n vacanÈ›e lungi.
            </p>
        </header>

        <section class="bg-white rounded-[40px] shadow-2xl border border-gray-100 overflow-hidden mb-12">
            <div class="p-8 bg-gray-900 text-white flex flex-col md:flex-row justify-between items-center gap-6">
                <div>
                    <label for="total-vacation" class="block text-xs font-black uppercase tracking-widest text-indigo-400 mb-2">CÃ¢te zile de concediu ai pe an?</label>
                    <input
                        type="number"
                        id="total-vacation"
                        value="21"
                        class="bg-white/10 border-2 border-white/20 rounded-2xl p-4 text-3xl font-black text-white outline-none focus:border-indigo-500 transition-all w-32"
                    />
                </div>
                <div class="text-center md:text-right">
                    <p class="text-xs font-black uppercase tracking-widest text-gray-400 mb-1">Zile rÄƒmase</p>
                    <p class="text-6xl font-black text-white" id="remaining-days">21</p>
                </div>
            </div>

            <div class="p-8 md:p-12 space-y-12">
                <div class="flex flex-wrap gap-4 text-xs font-bold uppercase">
                    <div class="flex items-center gap-2">
                        <span class="w-4 h-4 rounded bg-emerald-500"></span>
                        <span class="text-gray-600">Liber Legal (Gratis)</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-4 h-4 rounded bg-orange-500"></span>
                        <span class="text-gray-600">Concediu (InvestiÈ›ie)</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-4 h-4 rounded bg-blue-500"></span>
                        <span class="text-gray-600">Weekend</span>
                    </div>
                </div>

                <div class="grid grid-cols-1 gap-8">
                    {hacks.map(hack => (
                        <div class="relative group">
                            <input
                                type="checkbox"
                                id={hack.id}
                                data-days={hack.daysOff}
                                class="hack-checkbox hidden"
                            />
                            <label
                                for={hack.id}
                                class="block cursor-pointer bg-gray-50 rounded-[32px] border-2 border-gray-100 p-6 md:p-8 transition-all hover:shadow-xl group-has-[:checked]:border-indigo-500 group-has-[:checked]:bg-indigo-50/30"
                            >
                                <div class="flex flex-col md:flex-row justify-between gap-6">
                                    <div class="flex-1">
                                        <div class="flex items-center gap-3 mb-2">
                                            <span class={`w-3 h-3 rounded-full bg-gradient-to-tr ${hack.gradient}`}></span>
                                            <h3 class="text-xl font-black text-gray-900">{hack.title}</h3>
                                            <span class="px-3 py-1 rounded-full bg-gray-200 text-[10px] font-black uppercase text-gray-600">{hack.month}</span>
                                        </div>
                                        <p class="text-gray-500 text-sm mb-4 font-medium">{hack.context}</p>

                                        <div class="flex flex-wrap gap-2 mb-6">
                                            {hack.calendar.map(item => (
                                                <div class="flex flex-col items-center gap-1">
                                                    <div class={`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-white shadow-sm
                                                        ${item.type === 'legal' ? 'bg-emerald-500' : ''}
                                                        ${item.type === 'vacation' ? 'bg-orange-500' : ''}
                                                        ${item.type === 'weekend' ? 'bg-blue-500' : ''}
                                                        ${item.type === 'spacer' ? 'bg-transparent !text-gray-300' : ''}
                                                    `}>
                                                        {item.day}
                                                    </div>
                                                    <span class="text-[10px] font-black text-gray-400">{item.label}</span>
                                                </div>
                                            ))}
                                        </div>

                                        <div class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm">
                                            <p class="text-sm font-bold text-gray-700">Strategia: <span class="text-indigo-600">{hack.strategy}</span></p>
                                        </div>
                                    </div>

                                    <div class="md:w-48 flex flex-col justify-between items-center md:items-end gap-4">
                                        <div class="text-center md:text-right">
                                            <div class="text-4xl font-black text-gray-900">{hack.totalDays} zile</div>
                                            <div class="text-xs font-black uppercase text-gray-400 tracking-widest">de vacanÈ›Äƒ</div>
                                        </div>
                                        <div class="text-center md:text-right">
                                            <div class="text-2xl font-black text-orange-500">-{hack.daysOff} zile</div>
                                            <div class="text-[10px] font-black uppercase text-gray-400 tracking-widest">din concediu</div>
                                        </div>
                                        <div class="w-full md:w-auto px-6 py-3 rounded-2xl bg-indigo-600 text-white font-black text-center group-has-[:checked]:bg-emerald-500 transition-colors">
                                            <span class="group-has-[:checked]:hidden">ActiveazÄƒ Hack</span>
                                            <span class="hidden group-has-[:checked]:inline">Activat! âœ…</span>
                                        </div>
                                    </div>
                                </div>
                            </label>
                        </div>
                    ))}
                </div>
            </div>

            <div class="p-8 bg-indigo-600 text-white text-center">
                <div class="flex flex-col md:flex-row items-center justify-center gap-8">
                    <div>
                        <p class="text-sm font-bold opacity-80 mb-1 uppercase tracking-widest">Total VacanÈ›Äƒ</p>
                        <p class="text-5xl font-black" id="total-vacation-display">0 zile</p>
                    </div>
                    <div class="w-px h-12 bg-white/20 hidden md:block"></div>
                    <div>
                        <p class="text-sm font-bold opacity-80 mb-1 uppercase tracking-widest">EficienÈ›Äƒ</p>
                        <p class="text-5xl font-black" id="efficiency-display">0%</p>
                    </div>
                    <WhatsAppButton idDesktop="whatsappBtn" idMobile="whatsappBtnFloating" />
                </div>
            </div>
        </section>

        <!-- SEO FAQ SECTION -->
        <section class="mt-20 space-y-12">
            <h2 class="text-3xl font-black text-gray-900 text-center">ÃŽntrebÄƒri Frecvente</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="prose prose-slate">
                    <h3 class="font-black text-xl mb-4">Care sunt zilele libere legale Ã®n 2026?</h3>
                    <ul class="space-y-2 text-gray-600 font-medium">
                        <li><strong>1-2 Ianuarie:</strong> Anul Nou</li>
                        <li><strong>6-7 Ianuarie:</strong> Boboteaza È™i Sf. Ioan</li>
                        <li><strong>24 Ianuarie:</strong> Unirea Principatelor (SÃ¢mbÄƒtÄƒ)</li>
                        <li><strong>10 Aprilie:</strong> Vinerea Mare</li>
                        <li><strong>12-13 Aprilie:</strong> PaÈ™tele Ortodox</li>
                        <li><strong>1 Mai:</strong> Ziua Muncii</li>
                        <li><strong>1 Iunie:</strong> Ziua Copilului</li>
                        <li><strong>31 Mai - 1 Iunie:</strong> Rusalii</li>
                        <li><strong>15 August:</strong> Adormirea Maicii Domnului (SÃ¢mbÄƒtÄƒ)</li>
                        <li><strong>30 Noiembrie:</strong> SfÃ¢ntul Andrei</li>
                        <li><strong>1 Decembrie:</strong> Ziua NaÈ›ionalÄƒ</li>
                        <li><strong>25-26 Decembrie:</strong> CrÄƒciunul</li>
                    </ul>
                </div>

                <div class="space-y-8">
                    <div class="bg-slate-50 p-6 rounded-[32px] border border-slate-100">
                        <h3 class="font-black text-lg mb-2">Cum se plÄƒtesc zilele lucrate Ã®n sÄƒrbÄƒtori legale?</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Conform Codului Muncii, angajaÈ›ii care lucreazÄƒ Ã®n zile de sÄƒrbÄƒtoare legalÄƒ trebuie sÄƒ primeascÄƒ timp liber corespunzÄƒtor Ã®n urmÄƒtoarele 30 de zile. DacÄƒ nu se poate acorda timp liber, aceÈ™tia beneficiazÄƒ de un spor la salariu de cel puÈ›in 100% din salariul de bazÄƒ.
                        </p>
                    </div>

                    <div class="bg-indigo-50 p-6 rounded-[32px] border border-indigo-100">
                        <h3 class="font-black text-lg mb-2">CÃ¢nd picÄƒ PaÈ™tele Ã®n 2026?</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            ÃŽn 2026, PaÈ™tele Ortodox este pe data de <strong>12 Aprilie</strong>. Vinerea Mare este pe 10 Aprilie, iar a doua zi de PaÈ™te este Luni, 13 Aprilie, ambele fiind zile libere legale.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script is:inline>
        const totalInput = document.getElementById('total-vacation');
        const remainingDisplay = document.getElementById('remaining-days');
        const totalVacDisplay = document.getElementById('total-vacation-display');
        const efficiencyDisplay = document.getElementById('efficiency-display');
        const checkboxes = document.querySelectorAll('.hack-checkbox');

        function updateStats() {
            let totalAnnual = parseInt(totalInput.value) || 0;
            let usedFromConcediu = 0;
            let totalVacationDays = 0;

            checkboxes.forEach(cb => {
                if (cb.checked) {
                    usedFromConcediu += parseInt(cb.getAttribute('data-days'));
                    // We need to find the hack data. For simplicity let's use the totalDays from UI
                    const totalDaysText = cb.closest('.group').querySelector('.text-4xl').innerText;
                    totalVacationDays += parseInt(totalDaysText);
                }
            });

            const remaining = totalAnnual - usedFromConcediu;
            remainingDisplay.innerText = remaining;
            totalVacDisplay.innerText = totalVacationDays + " zile";

            const efficiency = usedFromConcediu > 0 ? Math.round((totalVacationDays / usedFromConcediu) * 10) / 10 : 0;
            efficiencyDisplay.innerText = efficiency > 0 ? `${efficiency}x` : "0x";

            if (remaining < 0) {
                remainingDisplay.classList.add('text-red-500');
            } else {
                remainingDisplay.classList.remove('text-red-500');
            }

            // WhatsApp Message
            const btnDesktop = document.getElementById('whatsappBtn');
            const btnMobile = document.getElementById('whatsappBtnFloating');
            const mesaj = `Am gÄƒsit o strategie sÄƒ am ${totalVacationDays} zile de vacanÈ›Äƒ Ã®n 2026 folosind doar ${usedFromConcediu} zile de concediu! Vezi Maximizatorul de Concediu aici: ${window.location.href}`;
            const finalLink = `https://api.whatsapp.com/send?text=${encodeURIComponent(mesaj)}`;

            if (btnDesktop) btnDesktop.href = finalLink;
            if (btnMobile) btnMobile.href = finalLink;
        }

        totalInput.addEventListener('input', updateStats);
        checkboxes.forEach(cb => cb.addEventListener('change', updateStats));

        // Initial update
        updateStats();
    </script>
</Layout>
