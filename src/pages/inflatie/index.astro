---
import Layout from '../../layouts/Layout.astro';
import WhatsAppButton from '../../components/WhatsAppButton.astro';
---

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Calculator Infla»õie Rom√¢nia (2000-2026)",
  "url": "https://manualul.ro/inflatie",
  "description": "AflƒÉ c√¢t s-au devalorizat banii tƒÉi. Simulator de infla»õie bazat pe datele istorice INS »ôi prognozele BNR.",
  "applicationCategory": "FinanceApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "RON"
  }
}
</script>

<Layout 
    title="Calculator Infla»õie Rom√¢nia: C√¢t valoreazƒÉ banii tƒÉi?"
    description="Vezi c√¢t s-au devalorizat banii tƒÉi din 2000 p√¢nƒÉ azi. Simulator infla»õie bazat pe datele INS."
>
    <main class="max-w-5xl mx-auto px-4 pb-32">
        <nav class="py-6">
            <a href="/" class="text-sm font-bold text-red-600 hover:underline flex items-center gap-2">
                ‚Üê √énapoi la meniul principal
            </a>
        </nav>

        <header class="mb-12 text-center">
            <span class="px-3 py-1 bg-red-100 text-red-700 rounded-full text-[10px] font-black uppercase tracking-widest border border-red-200 mb-4 inline-block">
                Manualul de CrizƒÉ
            </span>
            <h1 class="text-4xl md:text-6xl font-black text-gray-900 mb-4 tracking-tight">
                Eroziunea Banilor
            </h1>
            <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                AflƒÉ c√¢»õi lei trebuie sƒÉ ai astƒÉzi √Æn buzunar pentru a cumpƒÉra acelea»ôi lucruri pe care le luai cu 100 de lei √Æn trecut.
            </p>
        </header>

        <div class="bg-white rounded-[40px] p-8 md:p-12 shadow-2xl border-t-8 border-red-600 mb-12 relative overflow-hidden">
            <div class="absolute -right-20 -top-20 text-[200px] opacity-5 text-red-600 font-black pointer-events-none">%</div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 relative z-10">
                <div class="space-y-8">
                    <div>
                        <label class="block text-xs font-black uppercase text-gray-400 mb-2 tracking-widest">Suma ini»õialƒÉ (Lei)</label>
                        <input type="number" id="sumaVeche" value="100" class="w-full bg-gray-50 border-2 border-gray-200 rounded-2xl p-4 text-3xl font-black text-gray-900 focus:bg-white focus:border-red-500 outline-none transition-all">
                    </div>

                    <div>
                        <label class="block text-xs font-black uppercase text-gray-400 mb-2 tracking-widest">Anul de referin»õƒÉ</label>
                        <select id="anReferinta" class="w-full bg-gray-50 border-2 border-gray-200 rounded-2xl p-4 text-xl font-bold text-gray-900 focus:bg-white focus:border-red-500 outline-none transition-all cursor-pointer">
                            </select>
                    </div>

                    <div class="bg-red-50 p-6 rounded-2xl border border-red-100">
                        <p class="text-sm text-red-800 font-medium">
                            üìâ <span class="font-bold">»òtiai cƒÉ?</span> Infla»õia cumulatƒÉ erodeazƒÉ economiile »õinute "la saltea". Acest calculator folose»ôte datele oficiale INS.
                        </p>
                    </div>
                </div>

                <div class="flex flex-col justify-center text-center md:text-left border-t md:border-t-0 md:border-l border-gray-100 pt-8 md:pt-0 md:pl-12">
                    <p class="text-sm font-bold text-gray-400 uppercase mb-2">Putere de cumpƒÉrare (Echivalent Azi)</p>
                    <p id="rezultatAzi" class="text-6xl md:text-7xl font-black text-red-600 tracking-tighter mb-4">0 Lei</p>
                    
                    <p class="text-sm text-gray-500 mb-1">Infla»õie cumulatƒÉ:</p>
                    <div class="inline-block bg-gray-900 text-white px-4 py-1 rounded-lg font-bold text-lg mb-8" id="inflatieTotala">
                        0%
                    </div>

                    <WhatsAppButton idDesktop="whatsappBtn" idMobile="whatsappBtnFloating" class="scale-90" />
                    
                    <p class="text-xs text-gray-400 mt-6 italic">
                        "Ce cumpƒÉrai atunci cu <span id="textSumaVeche">100</span> lei, azi te costƒÉ <span id="textSumaNoua">...</span> lei."
                    </p>
                </div>
            </div>
        </div>

    </main>

    <script is:inline>
        // DATE INFLA»öIE ROM√ÇNIA (2000 - 2026 est)
        // Sursa: INS & Prognoze BNR
        const inflationRates = {
            2000: 45.7, 2001: 30.3, 2002: 17.8, 2003: 14.1, 2004: 9.3,
            2005: 8.6, 2006: 4.9, 2007: 6.6, 2008: 6.3, 2009: 4.7,
            2010: 8.0, 2011: 3.1, 2012: 5.0, 2013: 1.6, 2014: 0.8,
            2015: -0.6, 2016: -0.5, 2017: 3.3, 2018: 3.3, 2019: 4.0,
            2020: 2.1, 2021: 8.2, 2022: 16.4, 2023: 6.6, 2024: 5.0,
            2025: 4.0, 2026: 3.5
        };

        const inputSuma = document.getElementById('sumaVeche');
        const selectAn = document.getElementById('anReferinta');
        const dispRezultat = document.getElementById('rezultatAzi');
        const dispInflatie = document.getElementById('inflatieTotala');
        const txtSumaVeche = document.getElementById('textSumaVeche');
        const txtSumaNoua = document.getElementById('textSumaNoua');
        const btnWhatsapp = document.getElementById('whatsappBtn');
        const btnWhatsappFloating = document.getElementById('whatsappBtnFloating');

        // Populare Select An
        const startYear = 2000;
        const currentYear = 2026;
        
        for (let y = startYear; y < currentYear; y++) {
            const opt = document.createElement('option');
            opt.value = y;
            opt.innerText = y;
            if(y === 2015) opt.selected = true; // Default
            selectAn.appendChild(opt);
        }

        function calculate() {
            const suma = parseFloat(inputSuma.value) || 0;
            const anStart = parseInt(selectAn.value);
            
            let multiplicator = 1;
            
            // Calcul compus: Suma * (1 + rata/100) * (1 + rata/100)...
            for (let y = anStart; y <= currentYear; y++) {
                // DacƒÉ avem date pentru anul respectiv, aplicƒÉm infla»õia
                if (inflationRates[y] !== undefined) {
                    multiplicator = multiplicator * (1 + inflationRates[y] / 100);
                }
            }

            const sumaAzi = suma * multiplicator;
            const procentTotal = ((sumaAzi - suma) / suma) * 100;

            // UI Update
            dispRezultat.innerText = Math.round(sumaAzi).toLocaleString() + " Lei";
            dispInflatie.innerText = "+" + Math.round(procentTotal).toLocaleString() + "%";
            txtSumaVeche.innerText = suma;
            txtSumaNoua.innerText = Math.round(sumaAzi);
            
            // WhatsApp Update
            const mesaj = `Am aflat cƒÉ banii mei au pierdut ${Math.round(sumaAzi - suma).toLocaleString()} RON din putere de cumpƒÉrare √Æn ultimii ani. VerificƒÉ-»õi »ôi tu economiile pe Manualul.ro: ${window.location.href}`;
            const link = `https://api.whatsapp.com/send?text=${encodeURIComponent(mesaj)}`;

            if (btnWhatsapp) btnWhatsapp.href = link;
            if (btnWhatsappFloating) btnWhatsappFloating.href = link;
        }

        inputSuma.addEventListener('input', calculate);
        selectAn.addEventListener('change', calculate);

        calculate();
    </script>
</Layout>